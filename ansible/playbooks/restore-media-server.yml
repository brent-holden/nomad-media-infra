---
# Restore media server configuration from backup
#
# This is a convenience wrapper around deploy-media-server.yml with restore_from_backup=true.
# The restore workflow:
#   1. Creates temporary restore job
#   2. Dispatches restore from backup
#   3. Removes restore job
#   4. Starts the media server with restored configuration
#
# Usage:
#   Restore Plex from latest backup:
#     ansible-playbook -i inventory.ini playbooks/restore-media-server.yml
#
#   Restore Jellyfin from latest backup:
#     ansible-playbook -i inventory.ini playbooks/restore-media-server.yml -e media_server=jellyfin
#
#   Restore from specific date:
#     ansible-playbook -i inventory.ini playbooks/restore-media-server.yml -e backup_date=2025-01-15

- name: Restore Media Server from Backup
  ansible.builtin.import_playbook: deploy-media-server.yml
  vars:
    restore_from_backup: true
