# Dynamic host volume for Jellyfin configuration data
name      = "jellyfin-config"
type      = "host"
plugin_id = "mkdir"

capability {
  access_mode     = "single-node-writer"
  attachment_mode = "file-system"
}

constraint {
  attribute = "${attr.unique.hostname}"
  value     = "{{ target_hostname | default(ansible_hostname) }}"
}

parameters {
  path = "{{ jellyfin_config_dir }}"
  mode = "0755"
}
